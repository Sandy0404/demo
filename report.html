<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>國立嘉義大學</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.2/echarts.common.min.js"
        integrity="sha512-Zo4VYLfEAz0Vxyiohkl7bCDIWl2uQ8yZc/StiJ8RFEK6ms5eXtvOOErLhnGHxuTO1+r3jGBWAzU4wu1AK2aTRg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <div id="header">
        <h1><a href="index.html">國立嘉義大學</a></h1>
        <p class="copy">工讀生申請表</p>

        <ul id="navi">
            <!-- 導覽列從此開始 -->
            <li id="navi_01">
                <a href="#">新增資料</a>
                <ul id="a1">
                    <li><a href="insert.html">基本資料</a>
                    </li>
                    <li><a href="#">成績</a>
                    </li>
                    <li><a href="#">家庭概況</a>
                    </li>
                    <li><a href="#">申請工讀資格</a>
                    </li>
                </ul>
            </li>

            <li id="navi_02">
                <a href="search.html">查詢資料</a>
            </li>
            <li id="navi_03">
                <a href="update.html">修改資料</a>
                <ul id="a1">
                    <li><a href="mssql_input_update.php">基本資料</a>
                    </li>
                    <li><a href="mssql_input_update1.php">成績</a>
                    </li>
                    <li><a href="mssql_input_update2.php">家庭概況</a>
                    </li>
                    <li><a href="mssql_input_update3.php">申請工讀資格</a>
                    </li>
                </ul>
            </li>
            <li id="navi_04">
                <a href="report.html">分析報表</a>
            </li>

            <li id="navi_05">
                <a href="DB.html">系統手冊</a>
            </li>
            <!-- 導覽列到此為止 -->
        </ul>

    </div>

    <h1 class="char">工作志願及專長統計圖</h1>
    <div class="contents" id="container" style="width: 850px; height: 600px;"></div>
    <script>
        var expertise = [], count = [];
        function getusers() {
            $.ajax({
                type: "POST",
                async: false,
                url: "../demo/report.php",
                dataType: "json",
                success: function (result) {
                    if (result) {
                        for (var i = 0; i < result.length; i++) {
                            expertise.push(result[i].expertise);
                            count.push(result[i].count);
                        }
                    }
                },
                error: function (errmsg) {
                    alert("Ajax獲取伺服器資料出錯了！" + errmsg);
                }
            });
            return expertise, count;
        }
        getusers();
        var mychart = echarts.init(document.getElementById("container"));
        var option = {
            tooltip: {
                show: true
            },
            legend: {
                data: ['count']
            },
            xAxis: [{
                data: expertise,
                axisLabel: {
                    interval: 0
                }
            }],
            yAxis: [{
                type: 'value'
            }],
            series: [{
                "name": "count",
                "type": "bar",
                "data": count
            }]
        };
        mychart.setOption(option);
    </script>
</body>

</html>